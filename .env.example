# =============================================================================
# GoodServices Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# =============================================================================

# =============================================================================
# ENVIRONMENT SECTION
# =============================================================================
# Environment: development, testing, production
ENVIRONMENT=development

# Enable debug mode (development only!)
DEBUG=true

# Application name
APP_NAME=GoodServices

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MySQL database settings
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=goodservices
MYSQL_USER=goodservices
MYSQL_PASSWORD=your_secure_password_here
MYSQL_ROOT_PASSWORD=your_root_password_here
MYSQL_CHARSET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci

# Database connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Full database URL (optional - auto-constructed if not provided)
# Format: mysql+pymysql://user:password@host:port/database
# DATABASE_URL=mysql+pymysql://goodservices:your_secure_password_here@localhost:3306/goodservices

# =============================================================================
# JWT AUTHENTICATION CONFIGURATION
# =============================================================================
# CRITICAL: Generate a strong secret key for production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Or: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-min-32-characters-change-in-production

# JWT algorithm (HS256 recommended, options: HS256, HS512, RS256)
ALGORITHM=HS256

# Token expiration time (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration (in days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# PASSWORD SECURITY CONFIGURATION
# =============================================================================
# BCrypt rounds (higher = more secure but slower, 12-14 recommended, 4-31 valid)
BCRYPT_ROUNDS=12

# Password requirements (enforced by Pydantic validators)
PASSWORD_MIN_LENGTH=6
PASSWORD_MIN_DIGITS=2
PASSWORD_REQUIRE_MIXED_CASE=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
# Development example: http://localhost:5173,http://localhost:3000
# Production example: https://goodservices.com,https://www.goodservices.com
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# Allow credentials (cookies, authorization headers)
CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods (comma-separated)
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH

# Allowed headers (use * for all, or specify comma-separated list)
CORS_ALLOW_HEADERS=*

# =============================================================================
# API CONFIGURATION
# =============================================================================
# API version prefix
API_V1_PREFIX=/api/v1

# API title and description (for Swagger docs)
API_TITLE=GoodServices API
API_DESCRIPTION=Community Service Matching Platform API
API_VERSION=1.0.0

# Request rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# Maximum request body size (in MB)
MAX_UPLOAD_SIZE_MB=10

# Request timeout (in seconds)
REQUEST_TIMEOUT=30

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Upload directory (relative to backend root)
UPLOAD_DIR=./uploads

# Allowed file extensions (comma-separated, no dots)
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,txt,mp4,avi

# Maximum file size (in MB)
MAX_FILE_SIZE_MB=5

# Maximum files per request
MAX_FILES_PER_REQUEST=5

# =============================================================================
# FRONTEND CONFIGURATION (Vite)
# =============================================================================
# Backend API base URL (used by frontend)
# Development: http://localhost:8000
# Production: https://api.goodservices.com
VITE_API_BASE_URL=http://localhost:8000

# Frontend port (development)
VITE_PORT=5173

# Frontend environment
VITE_ENVIRONMENT=development

# Enable source maps in production (not recommended for security)
VITE_SOURCEMAP=false

# Frontend application title
VITE_APP_TITLE=GoodServices

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=text

# Log file path (leave empty to log to stdout only)
LOG_FILE=

# Enable SQL query logging (development only!)
LOG_SQL_QUERIES=false

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
# SMTP server settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@goodservices.com
SMTP_TLS=true

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching/sessions)
# =============================================================================
# Redis host
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis password (leave empty if no password)
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0

# Enable Redis caching
ENABLE_REDIS=false

# =============================================================================
# MONITORING AND ANALYTICS (Optional)
# =============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Google Analytics ID
GA_TRACKING_ID=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable user registration
ENABLE_REGISTRATION=true

# Enable admin panel
ENABLE_ADMIN_PANEL=true

# Enable email notifications
ENABLE_EMAIL_NOTIFICATIONS=false

# Enable statistics module (REQUIRED for this project!)
ENABLE_STATISTICS=true

# Enable file upload feature
ENABLE_FILE_UPLOAD=true

# =============================================================================
# PRODUCTION-SPECIFIC SETTINGS
# =============================================================================
# Backend workers (for Gunicorn in production)
BACKEND_WORKERS=4

# Frontend served from CDN (leave empty to use local assets)
CDN_URL=

# Enable HTTPS redirect
FORCE_HTTPS=false

# Session cookie secure flag (true for production HTTPS)
SESSION_COOKIE_SECURE=false

# Session cookie same-site policy (lax, strict, none)
SESSION_COOKIE_SAMESITE=lax

# Session cookie max age (in seconds)
SESSION_COOKIE_MAX_AGE=86400

# =============================================================================
# DATABASE OPTIMIZATION (Advanced)
# =============================================================================
# Enable query logging for debugging
SLOW_QUERY_LOG=false

# Slow query threshold (in seconds)
SLOW_QUERY_THRESHOLD=1

# Enable connection pooling pre-ping
DB_POOL_PRE_PING=true

# =============================================================================
# SECURITY HEADERS
# =============================================================================
# Enable strict content security policy
ENABLE_CSP=false

# Enable X-Frame-Options header
ENABLE_XFRAME_OPTIONS=true

# Enable X-Content-Type-Options header
ENABLE_XCONTENT_TYPE_OPTIONS=true

# =============================================================================
# NOTES
# =============================================================================
# 1. NEVER commit .env file to version control
# 2. For production, use strong, random values
# 3. Store sensitive values in a secure vault (AWS Secrets Manager, etc.)
# 4. Rotate SECRET_KEY regularly
# 5. Use environment-specific .env files (.env.development, .env.production)
# 6. Always validate configuration on application startup
